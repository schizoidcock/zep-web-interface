{{ define "ModernSessionDetails" }}
<div>
  <!-- Header with Back Button -->
  <div class="flex items-center gap-4 mb-6">
    <a href="{{ adminPath "/sessions" }}" 
       class="text-gray-400 hover:text-white"
       hx-get="{{ adminPath "/sessions" }}" 
       hx-target="#page-content">
      ‚Üê Sessions
    </a>
  </div>

  <h1 class="text-2xl font-medium text-white mb-2">Session Details</h1>
  <p class="text-gray-400 mb-6">View session information</p>
  
  <!-- Session ID with Copy Button -->
  <div class="mb-6">
    <span class="text-sm text-gray-400">Session ID</span>
    <div class="flex items-center gap-2 bg-gray-800 rounded px-3 py-1 mt-1 inline-flex">
      <span class="text-sm font-mono text-white">{{ .Data.Session.SessionID }}</span>
      <button class="text-gray-400 hover:text-white text-xs">üìã Copy</button>
    </div>
  </div>

  <!-- Session Info Card -->
  <div class="bg-gray-900 rounded-lg p-6 mb-8">
    <div class="grid grid-cols-2 gap-6">
      <div>
        <div class="text-sm text-gray-400 mb-1">User</div>
        <div class="text-white">
          {{if .Data.Session.UserID}}
            <a href="{{ adminPath "/users/" }}{{ .Data.Session.UserID }}" 
               class="text-purple-400 hover:text-purple-300 font-mono"
               hx-get="{{ adminPath "/users/" }}{{ .Data.Session.UserID }}" 
               hx-target="#page-content">
              {{ .Data.Session.UserID }}
            </a>
          {{else}}
            -
          {{end}}
        </div>
      </div>
      <div></div>
      
      <div>
        <div class="text-sm text-gray-400 mb-1">Created</div>
        <div class="text-white text-sm">
          {{ .Data.Session.CreatedAt.Format "Jan 2, 2006 3:04 PM" }}
        </div>
      </div>
      <div></div>
    </div>
  </div>

  <!-- Messages Section -->
  <h3 class="text-xl font-medium text-white mb-4">Messages</h3>
  
  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr class="border-b border-gray-700">
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Role</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Role Type</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Content</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Created</th>
        </tr>
      </thead>
      <tbody>
        {{if .Data.Messages}}
          {{range .Data.Messages}}
          <tr class="border-b border-gray-800 hover:bg-gray-800/50">
            <td class="py-3 px-4 text-sm text-white">
              {{ .Role }}
            </td>
            <td class="py-3 px-4">
              {{if eq .Role "user"}}
                <span class="text-sm text-gray-300">User</span>
              {{else if eq .Role "assistant"}}
                <span class="text-sm text-purple-400">Assistant</span>
              {{else}}
                <span class="text-sm text-gray-300">{{ .Role }}</span>
              {{end}}
            </td>
            <td class="py-3 px-4 text-sm text-white max-w-lg">
              <div class="truncate">{{ .Content }}</div>
            </td>
            <td class="py-3 px-4 text-sm text-gray-400">
              {{if .CreatedAt}}{{ .CreatedAt.Format "Jan 2, 2006 3:04 PM" }}{{else}}-{{end}}
            </td>
          </tr>
          {{end}}
        {{else}}
          <tr>
            <td colspan="4" class="py-8 text-center text-gray-400">No messages found</td>
          </tr>
        {{end}}
      </tbody>
    </table>
  </div>
  
  <!-- Pagination -->
  <div class="flex items-center justify-between mt-6">
    <button class="flex items-center gap-2 px-3 py-2 text-sm text-gray-400 hover:text-white">
      ‚Üê Previous
    </button>
    <span class="text-sm text-gray-400">1</span>
    <button class="flex items-center gap-2 px-3 py-2 text-sm text-gray-400 hover:text-white">
      Next ‚Üí
    </button>
  </div>

  <!-- Danger Zone -->
  <div class="mt-12 pt-8 border-t border-gray-700">
    <h3 class="text-xl font-medium text-white mb-4">Danger Zone</h3>
    
    <div class="bg-gray-900 rounded-lg p-6">
      <h4 class="text-sm font-medium text-white mb-2">Delete this session</h4>
      <p class="text-sm text-gray-400 mb-4">Once deleted, it will be permanently removed and cannot be recovered.</p>
      
      <button type="button" 
              hx-confirm="Are you sure you want to delete this session?" 
              hx-delete="{{ .Path }}" 
              hx-target="#page-content"
              class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium">
        Delete Session
      </button>
    </div>
  </div>
</div>
{{ end }}