{{ define "ModernUserEpisodes" }}
<div>
  <!-- Header with Back Button -->
  <div class="flex items-center gap-4 mb-6">
    <a href="{{ adminPath "/users/" }}{{ .Data.UserID }}" 
       class="text-gray-400 hover:text-white"
       hx-get="{{ adminPath "/users/" }}{{ .Data.UserID }}" 
       hx-target="#page-content">
      ← User Episodes
    </a>
  </div>

  <h1 class="text-2xl font-medium text-white mb-2">User Episodes</h1>
  <p class="text-gray-400 mb-6">View episodes for this user's graph</p>
  
  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr class="border-b border-gray-700">
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Episode ID</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Content</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Source</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Description</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Status</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Created</th>
          <th class="text-left py-3 px-4 text-sm font-medium text-gray-300">Actions</th>
        </tr>
      </thead>
      <tbody>
        {{if .Data.Episodes}}
          {{range .Data.Episodes}}
          <tr class="border-b border-gray-800 hover:bg-gray-800/50">
            <td class="py-3 px-4">
              <span class="text-purple-400 text-sm font-mono">{{ .EpisodeID }}</span>
            </td>
            <td class="py-3 px-4 text-sm text-white max-w-xs truncate">
              {{ .Content }}
            </td>
            <td class="py-3 px-4 text-sm text-white">
              {{ .Source }}
            </td>
            <td class="py-3 px-4 text-sm text-white max-w-xs truncate">
              {{if .Description}}{{ .Description }}{{else}}-{{end}}
            </td>
            <td class="py-3 px-4">
              <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                {{ .Status }}
              </span>
            </td>
            <td class="py-3 px-4 text-sm text-gray-400">
              {{if .CreatedAt}}{{ .CreatedAt.Format "Jan 2, 2006 3:04 PM" }}{{else}}-{{end}}
            </td>
            <td class="py-3 px-4">
              <button class="text-gray-400 hover:text-white text-sm">⋮</button>
            </td>
          </tr>
          {{end}}
        {{else}}
          <tr>
            <td colspan="7" class="py-8 text-center text-gray-400">No episodes found</td>
          </tr>
        {{end}}
      </tbody>
    </table>
  </div>
  
  <!-- Pagination -->
  <div class="flex items-center justify-between mt-6">
    <button class="flex items-center gap-2 px-3 py-2 text-sm text-gray-400 hover:text-white">
      ← Previous
    </button>
    <span class="text-sm text-gray-400">1</span>
    <button class="flex items-center gap-2 px-3 py-2 text-sm text-gray-400 hover:text-white">
      Next →
    </button>
  </div>
</div>
{{ end }}